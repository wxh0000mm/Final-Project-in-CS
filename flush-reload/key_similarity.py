#!/usr/bin/python

import sys
import random

#change uncertain bits to random bits, because why not
def improve_odds(ff_key):
    ff_key = list(ff_key)
    for i in range(len(ff_key)):
        if ff_key[i] == '_' or ff_key[i] == '?':
            ff_key[i] = str(random.randint(0,1))
    return ''.join(ff_key)

def pad_with_success(ff_key, private_key):
    ff_key += private_key[len(ff_key):]
    return ff_key

private_key = '10000111100000101011110011101001001100110010100011010100010110001101111000001110100000100110111111000110011011001010101011100101001110000000101001100101010011101111010111101110010001100000110011011000000101111101101000111111101000000110110001110100111100001000001101111101101111000111110011101110100010100011000011001100001110100111110000101000111100101100000111111011111011001000000010110011111111100100100000011000010110100100101010010001100010100101101000010000101011011110101110101011110000101001111100010001111000000100111010001011010010100010010001010001000011010000001100001011100011011100100001000110100010011011000011110001000011010000011111001111111011101101111111010110010110110100000011001101100111001100100010110110000101100000111000001111010010110000001010111010100000100011010110100111111011110000110111111111011011101110111000001110101101100010111101111011111001001111010111110000010011001110011000000110110100001011101101011111111110100010000100110111100110110111010101001110101011110111101101011000011010101001000001000100110011111010001101100000010100111110011010100101011100010101111100010111011101001110101111011100011011100101000000000011010011101010001111000101110100110110111110101101001010011100011001110011011010110111010001110000111111011111010011000101101001000100101001101000100101011100101011101111100000010110101001100011101000101101100101100011010100110001100111001111010000100111001011001111111010111111000000110100001010111010011001000110111111111110011011111110001001111010010110001011001111100111001100011110111000101011110001100110111101110000011010111111000100101110011101111011110111000101011100100010001110100110001001011001111100011000111010100110100000000001100011000011100100001101111010110111010110001111111111100010001010100000010001100111001101010010110001101111000010110010111111110100010011111001000001011010110101100010110111101100000100110010111100000000010001011100001101101100000111101001101111010101000101010111111101001001100100011010101001101100101100011110101111101010100110001101011010111'

ff_result = str(sys.argv[1])
#ff_result = improve_odds(ff_result)
ff_result = pad_with_success(ff_result, private_key)

#add padding to ff_result to match the length of the real private key

padding_length = abs(len(private_key) - len(ff_result))

if(len(private_key) > len(ff_result)):
    ff_result += 'a' * padding_length
else:
    private_key += 'a' * padding_length

identical_counter = 0

for i in range(len(private_key)):
    if private_key[i] == ff_result[i]:  #or ff_result[i] == '_':
        identical_counter += 1

similarity = (identical_counter/(len(private_key) - padding_length)) * 100

print('[*] ' + str(similarity) + '% similar')
